{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/goshi/portfolio_web_R/portfolio/app/components/useIntersection.js"],"sourcesContent":["\"use client\";\nimport { useRef, useState, useEffect } from \"react\";\n\n/**\n * 画面内に入ったら \"isVisible: true\" を返すカスタムフック\n * threshold, rootMargin など必要に応じて調整\n */\nexport default function useIntersection(options = {}) {\n  const ref = useRef(null);\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    if (!ref.current) return;\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsVisible(true);\n        observer.unobserve(entry.target); // 1度表示されたら解除\n      }\n    }, options);\n\n    observer.observe(ref.current);\n    return () => {\n      observer.disconnect();\n    };\n  }, [ref, options]);\n\n  return [ref, isVisible];\n}\n"],"names":[],"mappings":";;;AACA;;AADA;;AAOe,SAAS,gBAAgB,UAAU,CAAC,CAAC;;IAClD,MAAM,MAAM,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACnB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,CAAC,IAAI,OAAO,EAAE;YAClB,MAAM,WAAW,IAAI;6CAAqB,CAAC,CAAC,MAAM;oBAChD,IAAI,MAAM,cAAc,EAAE;wBACxB,aAAa;wBACb,SAAS,SAAS,CAAC,MAAM,MAAM,GAAG,aAAa;oBACjD;gBACF;4CAAG;YAEH,SAAS,OAAO,CAAC,IAAI,OAAO;YAC5B;6CAAO;oBACL,SAAS,UAAU;gBACrB;;QACF;oCAAG;QAAC;QAAK;KAAQ;IAEjB,OAAO;QAAC;QAAK;KAAU;AACzB;GApBwB"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/goshi/portfolio_web_R/portfolio/app/components/PhotoCard.jsx"],"sourcesContent":["\"use client\";\nimport Image from \"next/image\";\nimport useIntersection from \"./useIntersection\";\n\nexport default function PhotoCard({ src, onClick, onImageLoad }) {\n  const [ref, isVisible] = useIntersection({ threshold: 0.1 });\n\n  return (\n    <div\n      ref={ref}\n      className={`\n        transition-all duration-700 ease-out\n        opacity-0 translate-y-8\n        ${isVisible ? \"opacity-100 translate-y-0\" : \"\"}\n      `}\n    >\n      <button\n        type=\"button\"\n        className=\"block w-full aspect-square overflow-hidden\"\n        onClick={onClick}\n      >\n        <Image\n          src={src}\n          alt=\"\"\n          fill\n          className=\"object-cover\"\n          onLoadingComplete={() => {\n            onImageLoad?.();\n          }}\n        />\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAIe,SAAS,UAAU,EAAE,GAAG,EAAE,OAAO,EAAE,WAAW,EAAE;;IAC7D,MAAM,CAAC,KAAK,UAAU,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAe,AAAD,EAAE;QAAE,WAAW;IAAI;IAE1D,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAC;;;QAGV,EAAE,YAAY,8BAA8B,GAAG;MACjD,CAAC;kBAED,cAAA,6LAAC;YACC,MAAK;YACL,WAAU;YACV,SAAS;sBAET,cAAA,6LAAC,gIAAA,CAAA,UAAK;gBACJ,KAAK;gBACL,KAAI;gBACJ,IAAI;gBACJ,WAAU;gBACV,mBAAmB;oBACjB;gBACF;;;;;;;;;;;;;;;;AAKV;GA7BwB;;QACG,uIAAA,CAAA,UAAe;;;KADlB"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///Users/goshi/portfolio_web_R/portfolio/app/photo/PhotoGrid.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport PhotoCard from \"../components/PhotoCard\";\n\nexport default function PhotoGrid({ images }) {\n  // 合計画像数とロード完了数\n  const totalImages = images.length;\n  const [loadedCount, setLoadedCount] = useState(0);\n\n  // 1枚ロード完了時に呼ばれるコールバック\n  const handleImageLoad = () => {\n    setLoadedCount((prev) => prev + 1);\n  };\n\n  // 進捗率 (0~100)\n  const progress = Math.round((loadedCount / totalImages) * 100);\n\n  // ロード中かどうかを管理するフラグ\n  const [isLoading, setIsLoading] = useState(true);\n\n  // すべての画像が読み込まれ、progress===100 になったら\n  // 0.5秒だけキープしてからロード画面を消す\n  useEffect(() => {\n    if (progress === 100) {\n      const timer = setTimeout(() => {\n        setIsLoading(false);\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [progress]);\n\n  // --------------------\n  // 既存機能: モーダル表示や外部リンク\n  // --------------------\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedSrc, setSelectedSrc] = useState(\"\");\n\n  const handleOpenModal = (src) => {\n    setSelectedSrc(src);\n    setModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedSrc(\"\");\n    setModalOpen(false);\n  };\n\n  const handleOpenPost = (postUrl) => {\n    window.open(postUrl, \"_blank\");\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      {/* -------------------------\n          ロード画面 (Overlay)\n         ------------------------- */}\n      {isLoading && (\n        <div className=\"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black\">\n          {/* パーセント表示 (フォント適用) */}\n          <span\n            className=\"text-white text-2xl mb-4\"\n            style={{ fontFamily: \"'Avenir Next', 'Yu Gothic', sans-serif\" }}\n          >\n            {progress}%\n          </span>\n          {/* 白いゲージ枠: width=300px, height=2pxで細長く */}\n          <div className=\"w-[500px] h-1 bg-white relative overflow-hidden\">\n            {/* 中身 (黒バー) */}\n            <div\n              className=\"absolute left-0 top-0 h-full bg-black transition-all\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* ギャラリー */}\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n        {images.map((item, idx) => {\n          // item = { src, isLocal, postUrl? }\n          if (item.isLocal) {\n            // ローカル画像: クリック → モーダル拡大\n            return (\n              <PhotoCard\n                key={idx}\n                src={item.src}\n                onClick={() => handleOpenModal(item.src)}\n                onImageLoad={handleImageLoad} // 画像1枚読込完了時に呼ぶ\n              />\n            );\n          } else {\n            // X画像: クリック → 投稿URLへ\n            return (\n              <PhotoCard\n                key={idx}\n                src={item.src}\n                onClick={() => handleOpenPost(item.postUrl)}\n                onImageLoad={handleImageLoad}\n              />\n            );\n          }\n        })}\n      </div>\n\n      {/* 既存: モーダル (ローカル画像のみ) */}\n      {modalOpen && (\n        <div\n          className=\"\n            fixed inset-0 z-50 flex items-center justify-center\n            bg-black bg-opacity-70\n          \"\n          onClick={handleCloseModal}\n        >\n          <div\n            className=\"relative max-w-[90%] max-h-[90%]\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <button\n              onClick={handleCloseModal}\n              className=\"absolute top-4 right-4 text-white text-2xl\"\n            >\n              &times;\n            </button>\n            <img\n              src={selectedSrc}\n              alt=\"\"\n              className=\"w-full h-full object-contain\"\n              style={{ maxHeight: '90vh', maxWidth: '90vw' }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAIe,SAAS,UAAU,EAAE,MAAM,EAAE;;IAC1C,eAAe;IACf,MAAM,cAAc,OAAO,MAAM;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,sBAAsB;IACtB,MAAM,kBAAkB;QACtB,eAAe,CAAC,OAAS,OAAO;IAClC;IAEA,cAAc;IACd,MAAM,WAAW,KAAK,KAAK,CAAC,AAAC,cAAc,cAAe;IAE1D,mBAAmB;IACnB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,oCAAoC;IACpC,wBAAwB;IACxB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,IAAI,aAAa,KAAK;gBACpB,MAAM,QAAQ;iDAAW;wBACvB,aAAa;oBACf;gDAAG;gBACH;2CAAO,IAAM,aAAa;;YAC5B;QACF;8BAAG;QAAC;KAAS;IAEb,uBAAuB;IACvB,qBAAqB;IACrB,uBAAuB;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,kBAAkB,CAAC;QACvB,eAAe;QACf,aAAa;IACf;IAEA,MAAM,mBAAmB;QACvB,eAAe;QACf,aAAa;IACf;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAO,IAAI,CAAC,SAAS;IACvB;IAEA,qBACE,6LAAC;QAAI,WAAU;;YAIZ,2BACC,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,YAAY;wBAAyC;;4BAE7D;4BAAS;;;;;;;kCAGZ,6LAAC;wBAAI,WAAU;kCAEb,cAAA,6LAAC;4BACC,WAAU;4BACV,OAAO;gCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;4BAAC;;;;;;;;;;;;;;;;;0BAOvC,6LAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,MAAM;oBACjB,oCAAoC;oBACpC,IAAI,KAAK,OAAO,EAAE;wBAChB,wBAAwB;wBACxB,qBACE,6LAAC,kIAAA,CAAA,UAAS;4BAER,KAAK,KAAK,GAAG;4BACb,SAAS,IAAM,gBAAgB,KAAK,GAAG;4BACvC,aAAa;2BAHR;;;;;oBAMX,OAAO;wBACL,qBAAqB;wBACrB,qBACE,6LAAC,kIAAA,CAAA,UAAS;4BAER,KAAK,KAAK,GAAG;4BACb,SAAS,IAAM,eAAe,KAAK,OAAO;4BAC1C,aAAa;2BAHR;;;;;oBAMX;gBACF;;;;;;YAID,2BACC,6LAAC;gBACC,WAAU;gBAIV,SAAS;0BAET,cAAA,6LAAC;oBACC,WAAU;oBACV,SAAS,CAAC,IAAM,EAAE,eAAe;;sCAEjC,6LAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,6LAAC;4BACC,KAAK;4BACL,KAAI;4BACJ,WAAU;4BACV,OAAO;gCAAE,WAAW;gCAAQ,UAAU;4BAAO;;;;;;;;;;;;;;;;;;;;;;;AAO3D;GAlIwB;KAAA"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}